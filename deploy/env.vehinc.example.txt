# Production env for vehinc.co.za (ports > 3010)
# Copy to .env and fill secrets. Build with: docker compose -f docker-compose.yml build --no-cache

DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=vit_admin
DB_DATABASE=vit_platform
DB_PASSWORD_FILE=/run/secrets/postgres_password
DB_SSL=false
DB_DEFAULT_SCHEMA=platform
JWT_SECRET_FILE=/run/secrets/jwt_secret
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET_FILE=/run/secrets/jwt_refresh_secret
JWT_REFRESH_EXPIRES_IN=7d
FORCE_MFA_FOR_ADMINS=true
BOOTSTRAP_TOKEN_FILE=/run/secrets/bootstrap_token

# CORS: browser origins (no trailing slash)
CORS_ORIGINS=https://vit-platform.vehinc.co.za,https://vit-admin.vehinc.co.za

# Public API URL (set before building so Next.js bakes it in)
NEXT_PUBLIC_API_URL=https://vit-api.vehinc.co.za

# Host ports (all > 3010). Reverse proxy must forward subdomains to these.
API_PORT=3020
SYSTEM_ADMIN_PORT=3021
TENANT_ADMIN_PORT=3022

# HTTPS cookies
COOKIE_SECURE=true

# Mailgun / email (fill as needed)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
EMAIL_FROM=
